# Google Gemini Version

이 버전은 **Claude CLI** 대신 **Google Gemini API**를 사용하여 동작하는 자율 에이전트 봇입니다.

## 📌 주요 특징
1.  **무료/고성능**: Google Gemini 2.0 Flash (또는 Pro) 모델을 사용하여 빠르고 경제적입니다.
2.  **구조 호환성**: 기존 소놀봇의 텔레그램 리스너/샌더 구조를 그대로 사용하여 안정적입니다.
3.  **파이썬 기반 에이전트**: `gemini_agent.py`가 에이전트 역할을 수행하며, 시스템 명령 실행 및 파일 조작이 가능합니다.

---

## 🚀 설치 및 실행 방법

### 1단계: API 키 발급
1.  [Google AI Studio](https://aistudio.google.com/)에 접속하여 API 키를 발급받습니다.
2.  키를 복사해둡니다.

### 2단계: 자동 설정 (추천)
1.  `setup.bat` 파일을 실행합니다.
2.  안내에 따라 **텔레그램 봇 토큰**, **허용 사용자 ID**, **Gemini API 키**를 입력합니다.
    *   `.env` 파일이 자동으로 생성됩니다.
3.  필요한 Python 패키지가 자동으로 설치됩니다.

### 3단계: 실행 테스트
1.  **수동 실행**:
    *   `gemini_autoexecutor.bat`를 더블 클릭하여 실행해봅니다.
    *   `gemini_task.log` 파일에 로그가 쌓이는지 확인합니다.
2.  **텔레그램 테스트**:
    *   봇에게 "안녕, 제미나이!"라고 메시지를 보냅니다.
    *   봇이 응답하는지 확인합니다.

### 4단계: 자동 실행 등록
1.  `register_scheduler.bat`를 **관리자 권한으로 실행**합니다.
2.  1분마다 자동으로 봇이 실행되도록 윈도우 작업 스케줄러에 등록됩니다.
    *   새 메시지가 없으면 0.1초 만에 종료되므로 시스템 리소스를 거의 쓰지 않습니다.

---

## 📂 파일 구조
- `gemini_agent.py`: **[핵심]** Claude CLI를 대체하는 AI 에이전트 스크립트.
- `gemini_autoexecutor.bat`: 1분마다 실행되어 새 메시지 유무를 체크하고 에이전트를 깨우는 배치 파일.
- `telegram_bot.py`: 텔레그램 메시지 처리 로직 (기존과 동일).
- `setup.bat`: 간편 설치 스크립트.
- `check_telegram.py`: 수동으로 대기 중인 메시지를 확인할 때 사용하는 유틸리티.
- `get_my_id.py`: 텔레그램 사용자 ID 확인용 스크립트.

## ⚠️ 주의사항
- **보안**: 이 봇은 시스템 명령(`run_command`)과 파이썬 코드(`run_python`)를 실행할 수 있는 권한을 가집니다. **API 키와 텔레그램 계정 보안**에 각별히 유의하세요.
- **모델 변경**: `gemini_agent.py` 파일 내부의 `gemini-2.0-flash-exp` 부분을 수정하여 다른 모델로 변경할 수 있습니다.
